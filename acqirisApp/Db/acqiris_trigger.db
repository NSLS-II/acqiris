##configure external triggering: trigger level, scale, coupling, etc.
#DIG NSLS2 naming:[PSy[:PI]][-SSy[:SI]][-TSy[:TI]]{Dev[:DI]}[SgN[:SgI][-SgD]] 
#### Psy	-	Primary system
#### Ssy	-	Secondary system
#### Dev	-	Device name
## MODULE   -	"0" is the first digitizer found during initialization.
##   For Acqiris crate and CPU, it's the top slot if there's one digitizer 

record(ao,"${DIG}ExTrigLevel1-SP")
{
   field(DESC,"External TrigLevel1")
   field(DTYP,"acqiris")
   field(OUT,"@M${MODULE} XTRL1")
   field(SCAN,"Passive")
   field(EGU,"mV")
   field(PINI, "YES")
   field(RVAL, "1000")
   #field(RVAL, "500")
   field(DRVH,"5000.0")
   field(DRVL,"1000.0")
   field(HOPR,"5000.0")
   field(LOPR,"1000.0")
   info(autosaveFields_pass0, "RVAL")
}

record(ao,"${DIG}ExTrigFullScale-SP")
{
   field(DESC,"External FullScale")
   field(DTYP,"acqiris")
   field(OUT,"@M${MODULE} XFLSC")
   field(SCAN,"Passive")
   field(EGU,"V")
   field(PREC,"2")
   field(PINI, "YES")
   field(RVAL, "5")
   field(DRVH,"5.0")
   field(DRVL,"1.0")
   field(HOPR,"5.0")
   field(LOPR,"1.0")
   info(autosaveFields_pass0, "RVAL")
}

record(mbbo,"${DIG}ExTrigCoupling-Sel")
{
   field(DESC,"External TrigCoupling")
   field(DTYP,"acqiris")
   field(OUT,"@M${MODULE} XTRCP")
   field(PINI,"YES")
   field(SCAN,"Passive")
   field(ZRVL,"0")
   field(ZRST,"DC")
   field(ONVL,"1")
   field(ONST,"AC")
   field(TWVL,"2")
   field(TWST,"HF_Reject")
   field(THVL,"3")
   field(THST,"DC_50_Ohm")
   field(FRVL,"4")
   field(FRST,"AC_50_Ohm")
   info(autosaveFields_pass0, "RVAL")
}

record(mbbo,"${DIG}ExTrigSlope-Sel")
{
   field(DESC,"External TrigSlope")
   field(DTYP,"acqiris")
   field(OUT,"@M${MODULE} XTRSL")
   field(PINI,"YES")
   field(SCAN,"Passive")
   field(ZRVL,"0")
   field(ZRST,"Positive")
   field(ONVL,"1")
   field(ONST,"Negative")
   field(TWVL,"2")
   field(TWST,"Out_of_Window")
   field(THVL,"3")
   field(THST,"Into_Window")
   field(FRVL,"4")
   field(FRST,"HF_Divide")
   field(FVVL,"5")
   field(FVST,"Spike_Stretcher")
   info(autosaveFields_pass0, "RVAL")
}

record(ao,"${DIG}ExTrigLevel2-SP")
{
   field(DESC,"ExTrigLevel2 for Window TrigSlope")
   field(DTYP,"acqiris")
   field(OUT,"@M${MODULE} XTRL2")
   field(PINI,"YES")
   field(SCAN,"Passive")
   field(EGU,"mV")
   info(autosaveFields_pass0, "RVAL")
}

record(ao,"${DIG}ExTrigOffset-SP")
{
   field(DESC,"External Offset")
   field(DTYP,"acqiris")
   field(OUT,"@M${MODULE} XOFFS")
   field(PINI,"YES")
   field(SCAN,"Passive")
   field(EGU,"V")
   info(autosaveFields_pass0, "RVAL")
}

record(mbbo,"${DIG}ExTrigBandwidth-Sel")
{
   field(DESC,"Bandwidth")
   field(DTYP,"acqiris")
   field(OUT,"@M${MODULE} XBNDW")
   field(PINI,"YES")
   field(SCAN,"Passive")
   field(ZRVL,"0")
   field(ZRST,"No_Limit")
   field(ONVL,"1")
   field(ONST,"25Mhz")
   field(TWVL,"2")
   field(TWST,"700MHz")
   field(THVL,"3")
   field(THST,"200Mhz")
   field(FRVL,"4")
   field(FRST,"20Mhz")
   field(FVVL,"5")
   field(FVST,"35Mhz")
   info(autosaveFields_pass0, "RVAL")
}

record(mbbo,"${DIG}CrateCoupling-Sel")
{
   field(DESC,"crate Coupling?")
   field(DTYP,"acqiris")
   field(OUT,"@M${MODULE} XCPLN")
   field(PINI,"YES")
   field(SCAN,"Passive")
   field(ZRVL,"0")
   field(ZRST,"Ground")
   field(ONVL,"1")
   field(ONST,"DC")
   field(TWVL,"2")
   field(TWST,"AC")
   field(THVL,"3")
   field(THST,"DC_50_Ohm")
   field(FRVL,"4")
   field(FRST,"AC_50_Ohm")
   info(autosaveFields_pass0, "RVAL")
}

